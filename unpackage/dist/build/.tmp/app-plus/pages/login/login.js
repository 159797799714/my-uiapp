(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"16e5":function(o,e,t){"use strict";t.r(e);var n=t("f051"),i=t("2744");for(var s in i)"default"!==s&&function(o){t.d(e,o,function(){return i[o]})}(s);t("f233");var a=t("2877"),r=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,"13eed1f0",null);e["default"]=r.exports},2744:function(o,e,t){"use strict";t.r(e);var n=t("4320"),i=t.n(n);for(var s in n)"default"!==s&&function(o){t.d(e,o,function(){return n[o]})}(s);e["default"]=i.a},4320:function(o,e,t){"use strict";(function(o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={data:function(){return{mobile:"",password:"",showDel:!1,ishide:!1,loginType:""}},onLoad:function(o){o&&console.log(o.old," at pages\\login\\login.vue:54")},methods:{onInput:function(o){var e=o.detail.value;this.showDel=!!e},clickAction:function(e){o.navigateTo({url:"register?type="+e,animationType:"zoom-fade-out"})},goLogin:function(){var e=this,t=/^1[3456789]\d{9}$/.test(this.mobile);if(t){if(!this.password)return void o.showToast({title:"请输入密码",icon:"none"});this.$http({url:this.$api.login,data:{mobile:this.mobile,password:this.password},cb:function(t,n){if(t||1!==n.code)0===n.code&&n.msg?o.showToast({title:n.msg,icon:"none"}):o.showToast({title:"登录失败",icon:"none"});else{var i={mobile:n.data.userinfo.mobile,token:n.data.userinfo.token};e.$store.commit("login",i),o.setStorage({key:"userinfo",data:i,success:function(){o.switchTab({url:"../index/index"})}})}}})}else o.showToast({title:"请输入正确的手机号码",icon:"none"})},loginWay:function(e){var t=this;t.loginType="weixin"===e?"weixin":"qq"===e?"qq":"sinaweibo",o.getProvider({service:"oauth",success:function(n){~n.provider.indexOf(e)&&o.login({provider:e,success:function(o){t.openid="sinaweibo"===e?o.authResult.uid:o.authResult.openid,t.getInfo()}})},fail:function(e){o.showToast({title:"授权登录失败",icon:"none"})}})},getInfo:function(){var e=this;this.$http({url:this.$api.otherlogin,method:"POST",data:{openid:this.openid,type:this.loginType},cb:function(t,n){if(t||1!==n.code)0===n.code&&n.msg&&o.showToast({title:n.msg,icon:"none"});else{if(n.data.userinfo.mobile){var i={mobile:n.data.userinfo.mobile,token:n.data.userinfo.token};return e.$store.commit("login",i),void o.setStorage({key:"userinfo",data:i,success:function(){o.switchTab({url:"../index/index"})}})}e.$store.commit("setToken",n.data.userinfo.token),o.showToast({title:"请绑定您的手机号码",icon:"none"}),o.navigateTo({url:"bindTel"})}t&&o.showToast({title:"获取用户绑定信息失败",icon:"none"})}})}}};e.default=t}).call(this,t("6e42")["default"])},d11d:function(o,e,t){},f051:function(o,e,t){"use strict";var n=function(){var o=this,e=o.$createElement,t=(o._self._c,Array.isArray(o.password));o._isMounted||(o.e0=function(e){o.mobile=""},o.e1=function(e){var t=o.password,n=e.target,i=!!n.checked;if(Array.isArray(t)){var s=null,a=o._i(t,s);n.checked?a<0&&(o.password=t.concat([s])):a>-1&&(o.password=t.slice(0,a).concat(t.slice(a+1)))}else o.password=i},o.e2=function(e){o.password=null},o.e3=function(e){o.ishide=!o.ishide}),o.$mp.data=Object.assign({},{$root:{g0:t}})},i=[];t.d(e,"a",function(){return n}),t.d(e,"b",function(){return i})},f233:function(o,e,t){"use strict";var n=t("d11d"),i=t.n(n);i.a}},[["0423","common/runtime","common/vendor"]]]);