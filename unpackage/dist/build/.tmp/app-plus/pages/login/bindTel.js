(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/bindTel"],{2073:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c;e._isMounted||(e.e0=function(o){e.username=""},e.e1=function(o){e.ishide=!e.ishide})},i=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return i})},8110:function(e,o,t){},a1e7:function(e,o,t){"use strict";var n=t("8110"),i=t.n(n);i.a},ba6a:function(e,o,t){"use strict";t.r(o);var n=t("2073"),i=t("f4ac");for(var s in i)"default"!==s&&function(e){t.d(o,e,function(){return i[e]})}(s);t("a1e7");var a=t("2877"),c=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,"e08c3f4c",null);o["default"]=c.exports},bd0f:function(e,o,t){"use strict";(function(e,t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={data:function(){return{title:"",token:"",showDel:!1,code_word:"获取验证码",mobile:"",code:"",password:"",showInfo:!1,ishide:!1,check_code:!1}},computed:{windowHeight:function(){return this.$store.state.windowHeight},statusBarHeight:function(){return this.$store.state.statusBarHeight}},methods:{goBack:function(){e.navigateBack({delta:1})},onInputCode:function(o){var t=this,n=o.detail.value;4===n.length&&this.showInfo&&this.$http({url:this.$api.smscodeyz,method:"POST",data:{mobile:this.mobile,code:this.code},cb:function(o,n){o||1!==n.code?0===n.code&&n.msg&&e.showToast({title:n.msg,icon:"none"}):t.check_code=!0,o&&e.showToast({title:"手机验证码校验失败",icon:"none"})}})},onInput:function(e){var o=e.detail.value;this.showDel=!!o},sureAction:function(){var o=e.getStorageSync("code_mobile"),n=this;if(console.log(t(o,n.mobile,o===n.mobile," at pages\\login\\bindTel.vue:148")),n.showInfo)if(n.code&&4===n.code.length)if(n.password)if(o===n.mobile)if(n.check_code){var i={mobile:n.mobile,password:n.password};console.log(t(JSON.stringify(i)," at pages\\login\\bindTel.vue:189")),n.$http({url:n.$api.otherregister,method:"POST",data:i,cb:function(o,i){if(o||1!==i.code)0===i.code&&i.msg&&e.showToast({title:i.msg,icon:"none"});else{e.showToast({title:"绑定手机号成功",icon:"none"}),console.log(t(JSON.stringify(i)," at pages\\login\\bindTel.vue:200"));var s={mobile:i.data.info.mobile,token:i.data.info.token};n.$store.commit("login",s),e.setStorage({key:"userinfo",data:s,success:function(){e.switchTab({url:"../index/index"})}})}o&&e.showToast({title:"绑定手机号失败",icon:"none"})}})}else e.showToast({title:"验证码错误",icon:"none"});else e.showToast({title:"手机号码与已获取验证码的手机号不一致",icon:"none"});else e.showToast({title:"请输入密码",icon:"none"});else e.showToast({title:"验证码格式错误",icon:"none"});else e.showToast({title:"请先获取手机验证码",icon:"none"})},getCode:function(){e.setStorageSync("code_mobile",this.mobile);var o=/^1[3456789]\d{9}$/.test(this.mobile),t=this;o?this.$http({url:this.$api.sendcode,method:"POST",data:{mobile:this.mobile},cb:function(o,n){o||1!==n.code?e.showToast({title:"手机验证码获取失败",icon:"none"}):(t.code_word=120,t.showInfo=!0,setInterval(function(){t.code_word>0&&t.code_word--,0!==t.code_word||(t.showInfo=!1)}.bind(t),1e3))}}):e.showToast({title:"请输入正确的手机号码",icon:"none"})}}};o.default=n}).call(this,t("6e42")["default"],t("0de9")["default"])},f4ac:function(e,o,t){"use strict";t.r(o);var n=t("bd0f"),i=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(o,e,function(){return n[e]})}(s);o["default"]=i.a}},[["35ea","common/runtime","common/vendor"]]]);