(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/components/goods"],{"1c3f":function(t,e,i){"use strict";var a=i("5e55"),n=i.n(a);n.a},"5e55":function(t,e,i){},b48c:function(t,e,i){"use strict";i.r(e);var a=i("ffdf"),n=i("d129");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("1c3f");var r=i("2877"),o=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"c359a9ba",null);e["default"]=o.exports},ce5a:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{style:0,searchInfo:"",inputClearValue:"",showClearIcon:!1,tabIndex:0,filterIndex:0,tabList:["分享","商城"],shareTag:[{tag_name:"综合"},{tag_name:"最热"},{tag_name:"最新"},{tag_name:"官方"},{tag_name:"筛选"}],filter:["品牌","分类"],filterTag_Index:"",filter_alert:!0,shareList:[],filterCoverList:{list:["铁三角","索尼","铁三角","索尼","铁三角"],sum:4999},filterArr:[],goodList:[],captionList:[{title:"品牌",selectIndexArr:["默认"],arr:[]},{title:"分类",selectIndexArr:["默认"],arr:[]},{title:"促销",selectIndexArr:["默认"],arr:[]}],selectArr:[]}},watch:{tabIndex:function(t,e){this.filterIndex=0,this.searchAction(this.searchInfo,this.tabIndex),0!==t?1!==t||(this.shareTag=[{tag_name:"综合"},{tag_name:"最热"},{tag_name:"最新"},{tag_name:"官方"},{tag_name:"筛选"}]):this.getCultureTag()},filterIndex:function(t,e){4===t&&(this.filter_alert=!0)}},onLoad:function(t){console.log("分享文章详情页接受到的参数",t.class," at pages\\components\\goods.vue:184"),this.searchInfo=t.class,this.tabIndex=Number(t.type),this.searchAction(t.class,this.tabIndex),0===this.tabIndex&&this.getCultureTag()},methods:{getCultureTag:function(){var t=this;this.$http({url:this.$api.activitytags,cb:function(e,i){t.shareTag=i.data.tags}})},searchAction:function(e,i){var a=this,n=this.$api.goodlists,s={category_id:"",search:e,sortType:"",sortPrice:"",listRows:"",brand_id:"",promotions_type:"",min_price:"",max_price:""};0===i&&(n=this.$api.articlesbysearch,s={search:e,tags_id:""}),this.$http({url:n,data:s,cb:function(e,n){if(e||1!==n.code)t.showToast({title:"搜索失败",icon:"none"});else{if(n.data.list.length<1)return void t.showToast({title:"未搜索到相关数据",icon:"none"});switch(i){case 0:a.shareList=n.data.list;break;case 1:a.goodList=n.data.list.data;break}}}})},changeStyle:function(){0!==this.style?this.style=0:this.style=1},goBack:function(){t.navigateBack({delta:1})},clearIcon:function(){this.inputClearValue="",this.showClearIcon=!1},goShareDetail:function(e){t.navigateTo({url:"../components/shareInfo?article_id="+e})},clearInput:function(t){console.log(t.target.value," at pages\\components\\goods.vue:282"),this.inputClearValue=t.target.value,t.target.value.length>0?this.showClearIcon=!0:this.showClearIcon=!1},selectTab:function(t){this.tabIndex=t},selectFilter:function(t){var e=this;this.filter_alert&&4!==t||(this.$http({url:this.$api.getbrands,cb:function(t,i){var a=[],n=i.data.list;for(var s in n)a.push(n[s]);e.captionList[0].arr=a}}),this.$http({url:this.$api.goodscategory,cb:function(t,i){console.log(i.data.list," at pages\\components\\goods.vue:316"),e.captionList[1].arr=i.data.list}}),this.$http({url:this.$api.promotions,cb:function(t,i){e.captionList[2].arr=i.data.promotions}}),this.filter_alert=!0),this.filterIndex=t},selectFilterTag:function(t){var e=t.toString();e!==this.filterTag_Index||""===this.filterTag_Index?e===this.filterTag_Index&&""!==this.filterTag_Index||(this.filterTag_Index=e):this.filterTag_Index=""},setCategory:function(t){-1!==this.selectArr.indexOf(t)?this.selectArr.splice(this.selectArr.indexOf(t),1):this.selectArr.push(t)},selTag:function(t,e){var i=this.captionList[t].arr[e],a=this.captionList[t].selectIndexArr.indexOf(i);-1!==a?-1===a||this.captionList[t].selectIndexArr.splice(a,1):this.captionList[t].selectIndexArr.push(i)},resetFilter:function(){this.captionList.map(function(t,e){t.selectIndexArr=["默认"]})},clickZan:function(e,i){var a=this;console.log(e.article_id,e.islike,i," at pages\\components\\goods.vue:372");var n=this.$api.unLike;"no"===e.islike&&(n=this.$api.like),this.$http({url:n,data:{article_id:e.article_id},cb:function(e,n){if(!e&&n)switch(a.shareList[i].islike){case"yes":t.showToast({title:"取消点赞成功",icon:"none"}),a.shareList[i].islike="no",a.shareList[i].like_count-=1;break;case"no":t.showToast({title:"点赞成功",icon:"none"}),a.shareList[i].islike="yes",a.shareList[i].like_count+=1;break}else switch(a.shareList[i].islike){case"yes":t.showToast({title:"取消点赞失败",icon:"none"});break;case"no":t.showToast({title:"点赞失败请重试",icon:"none"});break}}})},goDetail:function(e){t.navigateTo({url:"../components/goodDetail?info="+e.name})}}};e.default=i}).call(this,i("6e42")["default"])},d129:function(t,e,i){"use strict";i.r(e);var a=i("ce5a"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},ffdf:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.filter.map(function(e,i){var a=i.toString(),n=i.toString();return{$orig:t.__get_orig(e),g0:a,g1:n}})),a=t.captionList.map(function(e,i){var a=t.selectArr.indexOf(i),n=t.selectArr.indexOf(i),s=e.arr.map(function(i,a){var n=e.selectIndexArr.indexOf(i);return{$orig:t.__get_orig(i),g4:n}});return{$orig:t.__get_orig(e),g2:a,g3:n,l1:s}});t._isMounted||(t.e0=function(e){t.filterTag_Index=""},t.e1=function(e){t.filter_alert=!1}),t.$mp.data=Object.assign({},{$root:{l0:i,l2:a}})},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})}},[["1b6b","common/runtime","common/vendor"]]]);