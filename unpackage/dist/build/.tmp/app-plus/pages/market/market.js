(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/market/market"],{"6b26":function(t,o,e){"use strict";(function(t,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=e("cfa1"),a=function(){return e.e("pages/components/banner").then(e.bind(null,"fb40"))},s={components:{banner:a},data:function(){return{searchInfo:"大家都在搜“森海塞尔”",scrollTop:0,swiperList:[],menuList:[],discount:[{imgUrl:"../../static/img/market/pintuan-text.png",name:"拼团购",info:"",time:"",min_price:"",max_price:"",img:""},{imgUrl:"../../static/img/market/miaoshagou-text.png",name:"秒杀购购",time:"",min_price:"",max_price:"",img:""},{imgUrl:"../../static/img/market/xianshigou-text.png",name:"限时购",time:"",min_price:"",max_price:"",info:"",img:""},{imgUrl:"../../static/img/market/zero-text.png",name:"0元购",time:"",min_price:"",max_price:"",img:""}],recommendList:[]}},computed:{statusBarHeight:function(){return this.$store.state.statusBarHeight}},onLoad:function(){this.getSwiperList(),this.getGoodscategory(),this.getRecommendgoods()},onShow:function(){this.getLimitGoods(),this.getZero(),this.getKillGoods()},onPullDownRefresh:function(){console.log(t("refresh"," at pages\\market\\market.vue:149")),setTimeout(function(){i.stopPullDownRefresh()},1e3)},methods:{pagetoTop:function(){console.log(t("点击了"," at pages\\market\\market.vue:157")),this.scrollTop=50},getSwiperList:function(){var o=this;this.$http({url:this.$api.goods_gethomebanners,cb:function(e,n){e||1!==n.code?i.showToast({title:"轮播图图片加载失败",icon:"none"}):(console.log(t("首页轮播图数据",n.data," at pages\\market\\market.vue:166")),o.swiperList=n.data.list)}})},getGoodscategory:function(){var t=this;this.$http({url:this.$api.goodscategory,cb:function(o,e){o||1!==e.code?0===e.code&&e.msg?i.showToast({title:e.msg,icon:"none"}):i.showToast({title:"商品分类列表加载失败",icon:"none"}):t.menuList=e.data.list}})},getLimitGoods:function(){var o=this;this.$http({url:this.$api.getflashsalegoodsbyone,cb:function(e,a){if(e||1!==a.code)0===a.code&&a.msg?i.showToast({title:a.msg,icon:"none"}):i.showToast({title:"限时抢购商品加载失败",icon:"none"});else if(console.log(t("限时",a.data," at pages\\market\\market.vue:208")),a.data.goods){var s=a.data.goods;o.discount[2].min_price=s.sku[0].goods_price,o.discount[2].max_price=s.sku[0].line_price,o.discount[2].img=s.headimg.file_path,o.discount[2].info=s.homepage_activity_subtitle,(0,n.countDown)(s.category.activity_endtime,function(t){o.discount[2].time=t})}}})},getKillGoods:function(){var o=this;o.$http({url:o.$api.getseckillgoodsbyone,cb:function(e,a){if(e||1!==a.code)0===a.code&&a.msg?i.showToast({title:a.msg,icon:"none"}):i.showToast({title:"秒杀购抢购商品加载失败",icon:"none"});else{if(console.log(t("秒杀购",a.data," at pages\\market\\market.vue:240")),a.data.goods){var s=a.data.goods;o.discount[1].min_price=s.sku[0].goods_price,o.discount[1].max_price=s.sku[0].line_price,o.discount[1].img=s.headimg.file_path,o.discount[1].info=s.homepage_activity_subtitle,(0,n.countDown)(s.category.activity_endtime,function(t){o.discount[1].time=t})}if(a.data.sharing_goods){var c=a.data.sharing_goods;o.discount[0].img=c.image_url,o.discount[0].info=c.sharing_home_subtitle,(0,n.countDown)(c.sharing_homa_activity_time,function(t){o.discount[0].time=t})}}}})},getZero:function(){var o=this;this.$http({url:this.$api.getluckydrawgoodsbyone,cb:function(e,a){if(e||1!==a.code)0===a.code&&a.msg?i.showToast({title:a.msg,icon:"none"}):i.showToast({title:"零元抽奖商品加载失败",icon:"none"});else if(console.log(t("零元购",a.data," at pages\\market\\market.vue:281")),a.data.goods){var s=a.data.goods;o.discount[3].min_price=s.sku[0].goods_price,o.discount[3].max_price=s.sku[0].line_price,o.discount[3].img=s.headimg.file_path,o.discount[3].info=s.homepage_activity_subtitle,(0,n.countDown)(s.category.activity_endtime,function(t){o.discount[3].time=t})}}})},getRecommendgoods:function(){var t=this;this.$http({url:this.$api.recommendgoods,cb:function(o,e){o||1!==e.code?0===e.code&&e.msg?i.showToast({title:e.msg,icon:"none"}):i.showToast({title:"推荐商品列表获取失败",icon:"none"}):t.recommendList=e.data.list}})},goDetail:function(o){console.log(t(o," at pages\\market\\market.vue:345")),i.navigateTo({url:"../components/goodDetail?goods_id="+o.goods_id})},goPintuan:function(t){switch(t){case 0:i.showToast({title:"拼团暂未开放",icon:"none"});break;case 1:i.navigateTo({url:"panicBuy?origin=秒杀购"});break;case 2:i.navigateTo({url:"panicBuy?origin=限时购"});break;case 3:i.showToast({title:"零元购暂未开放",icon:"none"});break}},goSearch:function(){i.navigateTo({url:"../components/search?type=1"})},goGoods:function(t,o){"MORE"===o?i.navigateTo({url:"../moreList/moreList"}):i.navigateTo({url:"../components/goods?id="+t+"&name="+o})},goMore:function(){i.navigateTo({url:"../moreList/moreList"})}}};o.default=s}).call(this,e("0de9")["default"],e("6e42")["default"])},7015:function(t,o,e){"use strict";e.r(o);var i=e("6b26"),n=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(o,t,function(){return i[t]})}(a);o["default"]=n.a},b36f:function(t,o,e){},bf35:function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement;t._self._c},n=[];e.d(o,"a",function(){return i}),e.d(o,"b",function(){return n})},c75e:function(t,o,e){"use strict";e.r(o);var i=e("bf35"),n=e("7015");for(var a in n)"default"!==a&&function(t){e.d(o,t,function(){return n[t]})}(a);e("e28f");var s=e("2877"),c=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"73783ff6",null);o["default"]=c.exports},e28f:function(t,o,e){"use strict";var i=e("b36f"),n=e.n(i);n.a}},[["7c8a","common/runtime","common/vendor"]]]);